{% extends 'base.html' %}

{% block title %}
  | English Made Easy
{% endblock %}
  
{% block content %}

<!-- Showcase -->
<section id="showcase">
  <div class="container text-center mt-4">
    <div class="home-search">
      <div class="overlay p-5">
        <h1 class="display-4 mb-4">
          LearnEng은 영어회화 스터디 매칭 무료 플랫폼입니다
        </h1>
        <a href="{% url 'pages:about' %}" class="btn btn-outline-secondary mb-3">이용 방법</a>
        {% include 'partials/_search_form.html' %}
      </div>
    </div>
  </div>
</section>



<!-- Groups -->
<section id="groups" class="py-5">
  <div class="container">
    <h3 class="text-center mb-5">Latest groups</h3>
    <div class="row">
      {% if groups %}
      {% for group in groups|slice:":3" %}
      <div class="col-md-6 col-lg-4">
        <div class="card group-preview">
          <div class="img-wrapper">
            <img class="card-img-top" src="{{ group.photo.url }}" alt="">
            <div class="card-img-overlay">
              <h2>
                <span class="badge badge-secondary text-white">{{ group.level }}</span>
              </h2>
            </div>
          </div>
          <div class="card-body">
            <div class="group-heading text-center">
              <h4 class="text-primary">{{ group.name }}</h4>
              <p class="mb-0">
                <i class="fas fa-map-marker text-secondary"></i> {{ group.location }}
              </p>
              <p class="mb-0">
                <i class="far fa-calendar-alt text-secondary"></i> 시작일: {{ group.start_date }}
              </p>
            </div>
            <hr class="my-0">
            <div class="row py-2 text-secondary">
              <div class="col-6">
                <i class="fas fa-graduation-cap"></i> 기간: {{ group.duration }}주
              </div>
              <div class="col-6">
                <i class="fas fa-money-check"></i> 가격: {{ group.price }}만원
              </div>
            </div>
            <!-- <div class="row py-2 text-secondary">
              <div class="col-6">
                <i class="fas fa-bed"></i> Bedrooms: {{ group.bedrooms }}</div>
              <div class="col-6">
                <i class="fas fa-bath"></i> Bathrooms: {{ group.bathrooms }}</div>
            </div> -->
            <hr class="my-0">
            <div class="row text-secondary pt-2">
              <div class="col-12">
                <i class="fas fa-clock"></i> {{ group.day }}, {{ group.time }}
              </div>
            </div>
            <div class="row text-secondary pt-2 ">
              <div class="col-6">
                <i class="fas fa-user"></i> {{ group.members.all.count }} / {{ group.size }}
              </div>
            </div>
            <hr class="my-2">
            <a href="{{ group.get_absolute_url }}" class="btn btn-primary btn-block">자세히</a>
          </div>
        </div>
      </div>
      {% endfor %}
      {% else %}
      <div class="col-md-12">
        <p>No groups Available</p>
      </div>
      {% endif %}

    </div>
  </div>
</section>

<section id="stats" class="py-5 bg-secondary text-white">
  <div class="container">
    <div class="row text-center">
      <div class="col-md-4 p-4">
        <i class="fas fa-chalkboard-teacher fa-4x"></i>
        <h3>{{ leaders.count }}</h3>
        <h4>Leaders</h4>
      </div>
      <div class="col-md-4 p-4">
        <i class="fas fa-user-graduate fa-4x"></i>
        <h3>{{ members.count }}</h3>
        <h4>Members</h4>
      </div>
      <div class="col-md-4 p-4">
        <i class="fas fa-users fa-4x"></i>
        <h3>{{ groups.count }}</h3>
        <h4>Groups</h4>
      </div>
    </div>
  </div>
</section>

{% endblock %}